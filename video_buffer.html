<html>
<head>
<script src="./js/video.min.js"></script>

<link href="./js/video-js.min.css" rel="stylesheet">


</head>

<body>

  <video-js id="my-video" class="vjs-default-skin" 
  controls preload="auto" 
  autoplay 
  muted
   loop
    playsinline
     width="1080"
     >
    <source src="https://res.cloudinary.com/dougsillars/video/upload/sp_hd/v1562844864/rbsp_launch_720p_gz9zfm.m3u8" type="application/x-mpegURL">
  </video-js>
  <p><p>
  <div class="buffered">
  		<span id="buffered-amount"></span>
	</div>
	<div class="progress">
  		<span id="progress-amount"></span>
	</div>
  <style>
  .buffered {
  height: 20px;
  position: relative;
  background: #555;
  width: 300px;
}

#buffered-amount {
  display: block;
  height: 100%;
  background-color: #777;
  width: 0;
}

.progress {
  margin-top: -20px;
  height: 20px;  
  position: relative;
  width: 300px;
}

#progress-amount {
  display: block;
  height: 100%;
  background-color: #595;
  width: 0;
}
  
  
  </style>
  <script>
    var player = videojs('my-video', {
  		responsive: true
	});
	
	
	
    window.onload = function(){

  	var myVideo = document.getElementById('my-video');

     myVideo.addEventListener('progress', function() {
     var duration =  myVideo.duration;
     if (duration > 0) {
    for (var i = 0; i < myVideo.buffered.length; i++) {
            if (myVideo.buffered.start(myVideo.buffered.length - 1 - i) < myVideo.currentTime) {
                document.getElementById("buffered-amount").style.width = "Buffer %: "+ (myVideo.buffered.end(myVideo.buffered.length - 1 - i) / duration) * 100 + "%";
                break;
            }
        }
    }
    });

    myVideo.addEventListener('timeupdate', function() {
    var duration =  myVideo.duration;
    if (duration > 0) {
      document.getElementById('progress-amount').style.width = "Playback: "+ ((myVideo.currentTime / duration)*100) + "%";
      }
    });

   }
   
	
	
  </script>

</body>

</html>